{% load static %}
<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Página de eventos deportivos">
    <meta name="author" content="">

    <title>ABC Eventos Deportivos</title>

    <link rel="icon" href="{% static 'img/icono.png' %}">

    <!-- Bootstrap core CSS -->
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    <!-- Fuentes de Google -->
    <link href="https://fonts.googleapis.com/css?family=Dosis|Muli|Open+Sans+Condensed:300" rel="stylesheet">
    <!-- Custom styles for this page -->
    <link href="{% static 'css/estilos_dashboard.css' %}" rel="stylesheet">
    <link href="{% static 'css/efectos.css' %}" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css" rel="stylesheet">
    <!-- Material Icons Google -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  </head>



  <body>

    <div id="main-body" style="z-index: -50">
      

      <!--BARRA LATERAL-->
      <ul id="slide-out" class="side-nav fixed">
        <li>
          <div id="encabezado-barra" class="text-white teal darken-2">
            <div class="row justify-content-center">
              <div class="col-12 text-center">
                <img id="avatar-usuario" src="{% static 'img/administrador.png' %}">
                <h5 id="nombre-usuario">Edward Buckley</h5>
                <h6 id="rol-usuario">Administrador</h6>
              </div>
            </div>
          </div>
        </li>

        <!--Botón Inicio-->
        <li><a id="btn-inicio" class="hvr-sweep-to-right waves-effect waves-light" href="/dashboard">
          <i class="material-icons">home</i>Inicio</a>
        </li>

        <!--Botón Iniciar Sesión-->
        <li><a id="btn-iniciar-sesion" class="hvr-sweep-to-right waves-effect waves-light oculto">
          <i class="material-icons">home</i>Iniciar sesión</a></li>

       

        <!--Botón Cerrar Sesión-->
        <li><a id="btn-cerrar-sesion" class="hvr-sweep-to-right waves-effect waves-light">
          <i class="material-icons">power_settings_new</i>Cerrar sesión</a></li>

        <!--Botón Volver a Página Principal-->
        <li><a id="btn-pag-principal" class="hvr-sweep-to-right waves-effect waves-light oculto" href="index.html">
          <i class="material-icons">arrow_back</i>Página principal</a></li>
      </ul>



      <!--CUERPO DEL DASHBOARD-->
      <div id="main">

        <!--BARRA DE NAVEGACIÓN-->
        <nav>
          <div class="nav-wrapper teal darken-2">
            <a href="#!" class="brand-logo center"><img src="{% static 'img/LogoABC.png' %}" height="60"></a>
            <a href="#" data-activates="slide-out" class="button-collapse"><i class="material-icons">menu</i></a>
          </div>
        </nav>


        <!--**********INICIO*********-->
        <div id="inicio" class="container oculto">
          <div class="row justify-content-center">
            <h2 class="teal-text">Inicio</h2>
          </div>
        </div>


        <!--**********CREAR NOTICIA*********-->
        <div id="crear-noticia" class="container">
          <div class="row justify-content-center">
            <h2 class="teal-text">Crear Noticia</h2>
          </div>

          <div class="row">
            <!--<form name="formularioCrearNoticia" class="col s12" onsubmit="return validarFormularioNoticia()">-->
            <form name="formularioCrearNoticia" class="col s12" method="POST"  enctype="multipart/form-data">{% csrf_token %}
            {{ noticiaForm.management_form }}
                {% for form in noticiaForm %}             
                {% if form.errors %}
                {%else%}
                  {%ifequal form.name "imagen" %}
                    <div class="row justify-content-center">
                      <div class="col-md-8">
                        <div id="field-foto-noticia" class="file-field input-field">
                          <div class="btn waves-effect waves-light hvr-wobble-skew">
                            <span>Foto</span>
                            <i class="material-icons">add_a_photo</i>
                            {{form}}
                            <!--<input type="file">-->
                          </div>
                            <div class="file-path-wrapper">
                               <!--{{form}}-->
                              <input class="file-path validate" type="text" placeholder="Selecciona una foto para la noticia">
                            </div>
                        </div>
                      </div>
                  </div>  
                  {% else %}
                    {%ifequal form.name "titulo" %}
                     <!--info  titu</-->
                      <div class="row justify-content-center">
                          <div class="col-md-6">
                            <div class="input-field col s12">
                              <i class="material-icons prefix">receipt</i>
                              {{form}}
                              <!---<input id="icon_prefix" name="field-titulo" type="text" class="validate" required="required">-->
                              <label for="icon_prefix">Título</label>
                            </div>
                          </div>
                    {% else %}
                      {%ifequal form.name "copete" %}
                        <div class="col-md-6">
                            <div class="input-field col s12">
                              <i class="material-icons prefix">label_outline</i>
                                {{form}}
                                <!--<input id="icon_prefix" name="field-copete" type="text" class="validate" required="required">-->
                                <label for="icon_prefix">Copete</label>
                              </div>
                            </div>
                          </div>

                        <!--info  copete</-->
                      {% else %}
                        {%ifequal form.name "fecha" %}
                          <!--info  fecha</-->
                          <div class="row justify-content-center">
                            <div class="col-md-6">
                              <div class="input-field col s12">
                                <i class="material-icons prefix">event</i>
                                {{form}}
                                <!--<input id="icon_prefix" name="field-fecha-noticia" type="text" class="datepicker" required="required">-->
                               <label for="icon_prefix">Fecha</label>
                              </div>
                           </div>
                          
                        {% else %}
                          {%ifequal form.name "autor" %}
                            <!--info  autor</-->
                            <div class="col-md-6">
                              <div class="input-field col s12">
                                <i class="material-icons prefix">face</i>
                                {{form}}
                                <!--<input id="icon_prefix" name="field-autor" type="text" class="autocomplete validate" required="required">-->
                                <label for="icon_prefix">Autor</label>
                              </div>
                            </div>
                            </div>
                          {% else %}
                            {%ifequal form.name "cuerpo" %}
                               <!--info  cuerpo</-->
                                <div class="row justify-content-center">
                                  <div class="col-md-10">
                                    <div class="input-field col s12">
                                      <i class="material-icons prefix">assignment</i>
                                      <!--<textarea id="textareaCuerpoNoticia" class="materialize-textarea validate" data-length="420000"></textarea>-->
                                      {{form}}
                                      <!--<label for="textareaCuerpoNoticia">Cuerpo de la noticia</label>-->
                                    </div>
                                  </div>
                            </div>
                            {% else %}
                              <div class="row justify-content-center">
                                <div class="col-md-2 text-right">
                                  <h6>Estado</h6>
                                </div>
                                <div class="col-md-4">
                                  <div class="switch">
                                    <label>
                                      Inactivo
                                    <input name="estado" type="checkbox" checked >
                                    <span class="lever"></span>
                                      Activo
                                    </label>
                                  </div>
                                </div>
                                <div class="col-md-6"></div>
                            </div>
                              
                            {%endifequal%}      
                          {%endifequal%}  
                        {%endifequal%}
                        
                      {%endifequal%}
                    {%endifequal%}
                      
                     
                  {%endifequal%}
                  {%endif%}
                {% endfor %}

          <div class="row justify-content-center">
                <button class="btn waves-effect waves-light hvr-wobble-skew" type="submit" name="action"  >Aceptar
                  <i class="material-icons right">note_add</i>
                </button>
              </div>
          </form>       
        </div>
        </div>

        
      </div>

    </div>





    <!-- Bootstrap core JavaScript -->
    <!--<script src="vendor/jquery/jquery.min.js"></script>-->
    <script src="https://code.jquery.com/jquery-3.2.1.js"></script>
    <script src="{% static 'js/popper.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <!-- Plugin JavaScript -->
    <script src="{% static 'js/jquery.easing.min.js' %}"></script>
    <!-- Custom JavaScript for this theme -->
    <script src="{% static 'js/scrolling-nav.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
    <script src="{% static 'js/dashboard.js' %}"></script>


    <script type="text/javascript">
    
    
    function actualizarPagina(rol)
      {
        if(rol == 'Administrador')
        {
          actualizarMenu('Administrador')
        }
        
      	if(rol == 'Gerente')
      	{
      		$('#avatar-usuario').attr("src", "{% static 'img/gerente.png' %}");
      		actualizarMenu('Gerente');
      	}
      	
      	if(rol == 'Operador')
      	{
      		$('#avatar-usuario').attr("src", "{% static 'img/operador.png' %}");
      		actualizarMenu('Operador');
      	}
      	
      	if(rol == 'Participante')
      	{
      		$('#avatar-usuario').attr("src", "{% static 'img/participante.png' %}");
      		actualizarMenu('Participante');
      	}
      	
      	if(rol == 'Usuario Público')
      	{
      		$('#avatar-usuario').attr("src", "{% static 'img/usuario_publico.png' %}");
      		actualizarMenu('Usuario Público');
      	}
      }


      $(document).ready(function(){
        $(".button-collapse").sideNav({
          menuWidth: 250,
          draggable: true,
        });
        $('select').material_select();
        $('.collapsible').collapsible();
        $('input#icon_prefix, textarea#textareaCuerpoNoticia').characterCounter();

        $('input.autocomplete').autocomplete({
          data: {
            "David Belmont": 'https://placehold.it/250x250',
            "Edward Buckley": 'https://placehold.it/250x250',
            "Meredith Colbert": 'https://placehold.it/250x250',
            "Evelyn Gardner": 'https://placehold.it/250x250'
          },
          limit: 20, // The max amount of results that can be shown at once. Default: Infinity.
          onAutocomplete: function(val) {},
          minLength: 1,
        });

        $('#evento_al_que_pertenece.autocomplete').autocomplete({
          data: {
            "Clases de Yoga": 'https://placehold.it/250x250',
            "Softbol Infantil": 'https://placehold.it/250x250',
            "Calisthenics": 'https://placehold.it/250x250',
            "Danza Contemporanea": 'https://placehold.it/250x250',
            "Davivienda Golf Tour": 'https://placehold.it/250x250'
          },
          limit: 20, // The max amount of results that can be shown at once. Default: Infinity.
          onAutocomplete: function(val) {},
          minLength: 1,
        });

        $('.datepicker').pickadate({
          selectMonths: true, // Creates a dropdown to control month
          selectYears: 15, // Creates a dropdown of 15 years to control year,
          close: 'Ok',
          closeOnSelect: true // Close upon selecting a date,
        });

        $('.timepicker').pickatime({
          default: 'now', // Set default time: 'now', '1:30AM', '16:30'
          fromnow: 0,       // set default time to * milliseconds from now (using with default = 'now')
          twelvehour: true, // Use AM/PM or 24-hour format
          donetext: 'OK', // text for done-button
          cleartext: 'Clear', // text for clear-button
          canceltext: 'Cancel', // Text for cancel-button
          autoclose: true, // automatic close timepicker
          ampmclickable: true, // make AM PM clickable
          aftershow: function(){} //Function for after opening timepicker
        });
      });


      //ACTUALIZAR LA PÁGINA DE ACUERDO AL ROL DE CADA USUARIO
      actualizarPagina('Administrador');

    </script>

  </body>
</html>